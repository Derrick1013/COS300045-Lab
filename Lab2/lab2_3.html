<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="description" content="Data Visualization"/>
    <meta name="keywords" content="HTML, CSS, D3"/>
    <meta name="author" content="Derrick Song Jun Cheng"/>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>

	<link rel="stylesheet" href="../styles.css">

    <title>Task 2.2 D3 Data Binding</title>
</head>
<body>
    <nav class="navbar">
		<ul>
			<li><a href="../main.html">Home</a></li>
			<li><a href="./lab2_1.html">Lab 2.1</a></li>
            <li><a href="./lab2_2.html">Lab 2.2</a></li>
            <li><a href="./lab2_3.html">Lab 2.3</a></li>
            <li><a href="./lab2_4.html">Lab 2.4</a></li>
            <li><a href="./lab2_optional.html">Lab 2 Optional</a></li>
		</ul>
	</nav>

    <h1>2.3 scatterplot</h1>

    <script>
        var dataset = [
            [5, 20, 5], [480, 90, 10], [250, 50, 3], [100, 33, 3], [330, 95, 3],
            [410, 12, 6], [475, 44, 9], [25, 67, 4], [85, 21, 8], [220, 88, 7]
        ]

        var w = 500;
        var h = 100;
        var svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

        svg.selectAll("circle")
            .data(dataset)
            .enter()
            .append("circle")
            .attr("cx", function(d) {
                return d[0];
            })
            .attr("cy", function(d) {
                return d[1];
            })
            .style("fill", function(d) {
                if (d[0] > 250) {
                    return "red";
                } else {
                    return "grey";
                }
            })
            .attr("r", function(d) {
                return d[2];
            })

        svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .text(function(d) {
                return d[0] + "," + d[1];
            })
            .attr("x", function(d) {
                return d[0];
            })
            .attr("y", function(d) {
                return d[1];
            })
    </script>

</body>
</html>